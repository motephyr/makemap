describe("events",function(){var e,r;beforeEach(function(){r=document.createElement("div"),r.style.width="200px",r.style.height="200px",document.body.appendChild(r),e=L.map(r,{maxZoom:18}),e.fitBounds(new L.LatLngBounds([[1,1],[2,2]]))}),afterEach(function(){document.body.removeChild(r)}),it("is fired for a single child marker",function(){var r=sinon.spy(),a=new L.MarkerClusterGroup,n=new L.Marker([1.5,1.5]);a.on("click",r),a.addLayer(n),e.addLayer(a),n.fire("click"),expect(r.called).to.be(!0)}),it("is fired for a child polygon",function(){var r=sinon.spy(),a=new L.MarkerClusterGroup,n=new L.Polygon([[1.5,1.5],[2,1.5],[2,2],[1.5,2]]);a.on("click",r),a.addLayer(n),e.addLayer(a),n.fire("click"),expect(r.called).to.be(!0)}),it("is fired for a cluster click",function(){var r=sinon.spy(),a=new L.MarkerClusterGroup,n=new L.Marker([1.5,1.5]),t=new L.Marker([1.5,1.5]);a.on("clusterclick",r),a.addLayers([n,t]),e.addLayer(a);var o=a.getVisibleParent(n);expect(o instanceof L.MarkerCluster).to.be(!0),o.fire("click"),expect(r.called).to.be(!0)}),describe("after being added, removed, re-added from the map",function(){it("still fires events for nonpoint data",function(){var r=sinon.spy(),a=new L.MarkerClusterGroup,n=new L.Polygon([[1.5,1.5],[2,1.5],[2,2],[1.5,2]]);a.on("click",r),a.addLayer(n),e.addLayer(a),e.removeLayer(a),e.addLayer(a),n.fire("click"),expect(r.called).to.be(!0)}),it("still fires events for point data",function(){var r=sinon.spy(),a=new L.MarkerClusterGroup,n=new L.Marker([1.5,1.5]);a.on("click",r),a.addLayer(n),e.addLayer(a),e.removeLayer(a),e.addLayer(a),n.fire("click"),expect(r.called).to.be(!0)}),it("still fires cluster events",function(){var r=sinon.spy(),a=new L.MarkerClusterGroup,n=new L.Marker([1.5,1.5]),t=new L.Marker([1.5,1.5]);a.on("clusterclick",r),a.addLayers([n,t]),e.addLayer(a),e.removeLayer(a),e.addLayer(a);var o=a.getVisibleParent(n);expect(o instanceof L.MarkerCluster).to.be(!0),o.fire("click"),expect(r.called).to.be(!0)}),it("doesnt break map events",function(){var r=sinon.spy(),a=new L.MarkerClusterGroup;e.on("zoomend",r),e.addLayer(a),e.removeLayer(a),e.addLayer(a),e.fire("zoomend"),expect(r.called).to.be(!0)})})});
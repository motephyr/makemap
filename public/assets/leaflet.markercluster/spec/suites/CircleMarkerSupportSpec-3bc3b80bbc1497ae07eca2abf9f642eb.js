describe("support for CircleMarker elements",function(){var e,r,t;beforeEach(function(){t=sinon.useFakeTimers(),r=document.createElement("div"),r.style.width="200px",r.style.height="200px",document.body.appendChild(r),e=L.map(r,{maxZoom:18}),e.fitBounds(new L.LatLngBounds([[1,1],[2,2]]))}),afterEach(function(){t.restore(),document.body.removeChild(r)}),it("appears when added to the group before the group is added to the map",function(){var r=new L.MarkerClusterGroup,a=new L.CircleMarker([1.5,1.5]);r.addLayer(a),e.addLayer(r),expect(a._container).to.not.be(void 0),expect(a._container.parentNode).to.be(e._pathRoot),t.tick(1e3)}),it("appears when added to the group after the group is added to the map",function(){var r=new L.MarkerClusterGroup,a=new L.CircleMarker([1.5,1.5]);r.addLayer(a),e.addLayer(r),expect(a._container).to.not.be(void 0),expect(a._container.parentNode).to.be(e._pathRoot),t.tick(1e3)}),it("appears animated when added to the group after the group is added to the map",function(){var r=new L.MarkerClusterGroup({animateAddingMarkers:!0}),a=new L.CircleMarker([1.5,1.5]),o=new L.CircleMarker([1.5,1.5]);e.addLayer(r),r.addLayer(a),r.addLayer(o),expect(a._container.parentNode).to.be(e._pathRoot),expect(o._container.parentNode).to.be(e._pathRoot),t.tick(1e3),expect(a._container.parentNode).to.be(null),expect(o._container.parentNode).to.be(null)}),it("creates a cluster when 2 overlapping markers are added before the group is added to the map",function(){var r=new L.MarkerClusterGroup,a=new L.CircleMarker([1.5,1.5]),o=new L.CircleMarker([1.5,1.5]);r.addLayers([a,o]),e.addLayer(r),expect(a._container).to.be(void 0),expect(o._container).to.be(void 0),expect(e._panes.markerPane.childNodes.length).to.be(1),t.tick(1e3)}),it("creates a cluster when 2 overlapping markers are added after the group is added to the map",function(){var r=new L.MarkerClusterGroup,a=new L.CircleMarker([1.5,1.5]),o=new L.CircleMarker([1.5,1.5]);e.addLayer(r),r.addLayer(a),r.addLayer(o),expect(a._container.parentNode).to.be(null),expect(o._container).to.be(void 0),expect(e._panes.markerPane.childNodes.length).to.be(1),t.tick(1e3)}),it("disappears when removed from the group",function(){var r=new L.MarkerClusterGroup,a=new L.CircleMarker([1.5,1.5]);r.addLayer(a),e.addLayer(r),expect(a._container).to.not.be(void 0),expect(a._container.parentNode).to.be(e._pathRoot),r.removeLayer(a),expect(a._container.parentNode).to.be(null),t.tick(1e3)})});
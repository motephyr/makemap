describe("zoomAnimation",function(){var e,n,t;beforeEach(function(){t=sinon.useFakeTimers(),n=document.createElement("div"),n.style.width="200px",n.style.height="200px",document.body.appendChild(n),e=L.map(n,{maxZoom:18})}),afterEach(function(){t.restore(),document.body.removeChild(n)}),it("adds the visible marker to the map when zooming in",function(){e.setView(new L.LatLng(-37.36142550190516,174.254150390625),7);var n=new L.MarkerClusterGroup({showCoverageOnHover:!0,maxClusterRadius:20,disableClusteringAtZoom:15}),a=new L.Marker([-37.77852090603777,175.3103667497635]);n.addLayer(a),n.addLayer(new L.Marker([-37.711800591811055,174.5003479003906])),e.addLayer(n),t.tick(1e3),e.setView([-37.77852090603777,175.3103667497635],15),t.tick(1e3),expect(a._icon).to.not.be(void 0),expect(a._icon).to.not.be(null)}),it("adds the visible marker to the map when jumping around",function(){var n=new L.MarkerClusterGroup,a=new L.Marker([48.858280181884766,2.2945759296417236]),r=new L.Marker([16.02359962463379,-61.70280075073242]);n.addLayer(a),n.addLayer(r),e.addLayer(n),e.fitBounds(new L.LatLngBounds(new L.LatLng(41.371582,-5.142222),new L.LatLng(51.092804,9.561556))),t.tick(1e3),e.fitBounds(new L.LatLngBounds(new L.LatLng(15.830972671508789,-61.807167053222656),new L.LatLng(16.516849517822266,-61))),t.tick(1e3),expect(r._icon).to.not.be(void 0),expect(r._icon).to.not.be(null)}),it("adds the visible markers to the map, but not parent clusters when jumping around",function(){var n=new L.MarkerClusterGroup,a=new L.Marker([59.952,30.3307]),r=new L.Marker([59.9516,30.3308]),o=new L.Marker([59.9513,30.3312]);n.addLayer(a),n.addLayer(r),n.addLayer(o),e.addLayer(n),e.setView([53.0676,170.6835],16),t.tick(1e3),e.setView(a.getLatLng(),18),t.tick(1e3),expect(a._icon.parentNode).to.be(e._panes.markerPane),expect(r._icon.parentNode).to.be(e._panes.markerPane),expect(o._icon.parentNode).to.be(e._panes.markerPane),expect(e._panes.markerPane.childNodes.length).to.be(3)})});
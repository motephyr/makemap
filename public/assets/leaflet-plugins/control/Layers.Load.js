L.Control.Layers.include({_loadScripts:function(e,a,t){function r(){s._loadScripts(e,a,t)}if(!e||0===e.length)return a(t);var i,s=this,d=e.pop();if(i=L.Control.Layers._script_cache[d],void 0===i){i={url:d,wait:[]};var n=document.createElement("script");n.src=d,n.type="text/javascript",n.onload=function(){var e=0;for(e=0;e<i.wait.length;e++)i.wait[e]()},i.e=n,document.getElementsByTagName("head")[0].appendChild(n)}i.wait.push(r),"completed"===i.e.readyState&&r(),L.Control.Layers._script_cache[d]=i},addLayerDef:function(e,a){void 0===this._layer_defs&&(this._layer_defs={}),this._layer_defs[e]=a},addLayerDefs:function(e){void 0===this._layer_defs&&(this._layer_defs={}),L.Util.extend(this._layer_defs,e)},loadLayer:function(e,a){var t=this,r=this._layer_defs[e];r["default"]=a,this._loadScripts(r.js.reverse(),function(e){t._loadLayer(e)},r)},_loadLayer:function(e){var a=e.init();e["default"]&&this._map&&this._map.addLayer(a),e.overlay?this.addOverlay(a,e.name):this.addBaseLayer(a,e.name)}}),L.Control.Layers._script_cache={};